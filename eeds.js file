[1mdiff --git a/TESTFILE.md b/TESTFILE.md[m
[1mdeleted file mode 100644[m
[1mindex e69de29..0000000[m
[1mdiff --git a/YelpCamp/v5/changes.md b/YelpCamp/v5/changes.md[m
[1mindex 47239e5..737d53c 100644[m
[1m--- a/YelpCamp/v5/changes.md[m
[1m+++ b/YelpCamp/v5/changes.md[m
[36m@@ -16,3 +16,10 @@[m
 - Add description to the campground model[m
 - Show db.collection.drop()[m
 - Add a show/route template[m
[32m+[m
[32m+[m[32m# v5[m[41m [m
[32m+[m[32m* Add a seeds.js file[m
[32m+[m[32m* Run the seeds file every time the server starts[m
[32m+[m[32m* Add the Comment model![m
[32m+[m[32m* Make our errors go away![m
[32m+[m[32m* Display comments on campground show page[m
\ No newline at end of file[m
[1mdiff --git a/YelpCamp/v6/app.js b/YelpCamp/v6/app.js[m
[1mindex a2d9063..93e3188 100644[m
[1m--- a/YelpCamp/v6/app.js[m
[1m+++ b/YelpCamp/v6/app.js[m
[36m@@ -37,6 +37,14 @@[m [mpassport.use(new LocalStrategy(User.authenticate()));[m
 passport.serializeUser(User.serializeUser());[m
 passport.deserializeUser(User.deserializeUser());[m
 [m
[32m+[m[32m// A middleware to pass in username information to every route, req.user comes from passport module[m
[32m+[m[32mapp.use(function(req, res, next){[m
[32m+[m[32m    res.locals.currentUser = req.user;[m
[32m+[m[32m    console.log(req.user);[m
[32m+[m[32m    next();[m
[32m+[m[32m});[m
[32m+[m
[32m+[m
 [m
 // Set up a landing page[m
 app.get("/", function(req, res){[m
[36m@@ -98,7 +106,7 @@[m [mapp.get("/campgrounds/:id", function(req, res){[m
 // COMMENTS ROUTE[m
 // ==================[m
 [m
[31m-app.get("/campgrounds/:id/comments/new", function(req, res){[m
[32m+[m[32mapp.get("/campgrounds/:id/comments/new", isLoggedIn, function(req, res){[m
     Campground.findById(req.params.id, function(err, campground){[m
         if(err){[m
             console.log(err);[m
[36m@@ -109,7 +117,7 @@[m [mapp.get("/campgrounds/:id/comments/new", function(req, res){[m
 });[m
 [m
 [m
[31m-app.post("/campgrounds/:id/comments", function(req, res){[m
[32m+[m[32mapp.post("/campgrounds/:id/comments", isLoggedIn, function(req, res){[m
     // Find a campground using ID[m
     Campground.findById(req.params.id, function(err, campground){[m
         if(err){[m
[36m@@ -158,6 +166,37 @@[m [mapp.post('/register', function(req, res){[m
     });[m
 });[m
 [m
[32m+[m[32m// show the login form[m
[32m+[m[32mapp.get('/login', function(req, res){[m
[32m+[m[32m    res.render('login');[m
[32m+[m[32m});[m
[32m+[m
[32m+[m[32m// handle the login POST[m
[32m+[m[32m// app.post(route, middleware, callback function)[m
[32m+[m[32mapp.post('/login', passport.authenticate('local', {[m
[32m+[m[32m        successRedirect: '/campgrounds',[m
[32m+[m[32m        failureRedirect: '/login'[m
[32m+[m[32m    })[m
[32m+[m[32m);[m
[32m+[m
[32m+[m[32m// logout route, logout() comes from passport module[m
[32m+[m[32mapp.get('/logout', function(req, res){[m
[32m+[m[32m    req.logout();[m
[32m+[m[32m    res.redirect('/campgrounds');[m
[32m+[m[32m});[m
[32m+[m
[32m+[m
[32m+[m
[32m+[m[32m// middleware function for checking if user is logged in, request, response, next[m[41m [m
[32m+[m[32mfunction isLoggedIn(req, res, next){[m
[32m+[m[32m    if(req.isAuthenticated()){[m
[32m+[m[32m        return next();[m
[32m+[m[32m    } else {[m
[32m+[m[32m        console.log('Was not logged in');[m
[32m+[m[32m        res.redirect('/login');[m
[32m+[m[32m    }[m
[32m+[m[32m}[m
[32m+[m
 // Starts a UNIX socket and listens for connections on the specified host and port.  [m
 app.listen(process.env.PORT, process.env.IP, function(){[m
     console.log("The YelpCamp server has started.");[m
[1mdiff --git a/YelpCamp/v6/changes.md b/YelpCamp/v6/changes.md[m
[1mindex 47239e5..42978c8 100644[m
[1m--- a/YelpCamp/v6/changes.md[m
[1m+++ b/YelpCamp/v6/changes.md[m
[36m@@ -16,3 +16,14 @@[m
 - Add description to the campground model[m
 - Show db.collection.drop()[m
 - Add a show/route template[m
[32m+[m
[32m+[m[32m# v5[m[41m [m
[32m+[m[32m* Add a seeds.js file[m
[32m+[m[32m* Run the seeds file every time the server starts[m
[32m+[m[32m* Add the Comment model![m
[32m+[m[32m* Make our errors go away![m
[32m+[m[32m* Display comments on campground show page[m
[32m+[m
[32m+[m[32m# v6 added user authentication, login, register and navbar changes[m
[32m+[m[32m- installed passport and express-session[m
[41m+[m
[1mdiff --git a/YelpCamp/v6/views/partials/header.ejs b/YelpCamp/v6/views/partials/header.ejs[m
[1mindex 1c00895..e4c9d8b 100644[m
[1m--- a/YelpCamp/v6/views/partials/header.ejs[m
[1m+++ b/YelpCamp/v6/views/partials/header.ejs[m
[36m@@ -16,12 +16,15 @@[m
             <!-- Collect the nav links, forms, and other content for toggling -->[m
             <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">[m
               <ul class="nav navbar-nav navbar-right">[m
[31m-                <li><a href="/">Login</a></li>[m
[31m-                <li><a href="/">Sign Up</a></li>[m
[31m-                <li><a href="/">Logout</a></li>[m
[32m+[m[32m                <!--  Check if user is signed in, if not display login and signup, else show username and logout -->[m
[32m+[m[32m                <% if (!currentUser){ %>[m
[32m+[m[32m                <li><a href="/login">Login</a></li>[m
[32m+[m[32m                <li><a href="/register">Sign Up</a></li>[m
[32m+[m[32m                <% } else { %>[m
[32m+[m[32m                <li><a href='#'>Signed in as <%= currentUser.username %></a></li>[m
[32m+[m[32m                <li><a href="/logout">Logout</a></li>[m
[32m+[m[32m                <% } %>[m
               </ul>[m
             </div><!-- /.navbar-collapse -->[m
           </div><!-- /.container-fluid -->[m
[31m-        </nav>[m
[31m-[m
[31m-        [m
\ No newline at end of file[m
[32m+[m[32m        </nav>[m
\ No newline at end of file[m
[1mdiff --git a/YelpCamp/v6/views/register.ejs b/YelpCamp/v6/views/register.ejs[m
[1mindex 28d47bc..73ceb76 100644[m
[1m--- a/YelpCamp/v6/views/register.ejs[m
[1m+++ b/YelpCamp/v6/views/register.ejs[m
[36m@@ -1,7 +1,11 @@[m
[32m+[m[32m<% include ./partials/header %>[m
[32m+[m
 <h1>Sign Up!</h1>[m
 [m
 <form action='/register' method='POST'>[m
     <input name='username' type='text' placeholder='username'>[m
     <input name='password' type='password' placeholder='password'>[m
     <button>Submit!</button>[m
[31m-</form>[m
\ No newline at end of file[m
[32m+[m[32m</form>[m
[32m+[m
[32m+[m[32m<% include ./partials/footer %>[m
\ No newline at end of file[m
[1mdiff --git a/memo.md b/memo.md[m
[1mindex 5148356..912c85b 100644[m
[1m--- a/memo.md[m
[1m+++ b/memo.md[m
[36m@@ -5,8 +5,4 @@[m [mIDEAS FOR CODING PRACTICE[m
 / muscle load meter[m
 [m
 [m
[31m-https://www.pracuj.pl/praca/get-it-started-paid-internship-katowice,oferta,6359490[m
[31m-https://www.pracuj.pl/praca/young-talents-programme-data-management-with-power-bi-katowice,oferta,6378128?sug=list_bd_10[m
[31m-[m
[31m-[m
[31m-https://github.com/danistefanovic/build-your-own-x[m
\ No newline at end of file[m
[32m+[m[32mhttps://github.com/danistefanovic/build-your-own-x[m[41m [m
\ No newline at end of file[m
